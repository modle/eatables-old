{% load staticfiles %}
{% load menu_extras %}

<link rel="stylesheet" type="text/css" media="only screen" href="{% static 'menu/style.css' %}" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<div id="title">
    Edit: {{ recipe.name }}
</div>
<a href="{% url 'menu:index' %}">Back to Recipe List</a>
<a href = "{% url 'menu:recipedetails' recipe.id %}">View Recipe Details</a>
<div id="content">
    <form action="{% url 'menu:updaterecipe' recipe.id %}" method="post">
    {% csrf_token %}
        Name<br><input type=text name="name" value="{{ recipe.name }}" id="text"><br><br>
        Prep Method<br><input type=text name="method" value="{{ recipe.prepMethod }}" id="text"><br><br>
        Temperature<br><input type=text name="temp" value="{{ recipe.temperature }}" id="text"><br><br>
        Prep Time (minutes)<br><input type=text name="prep" value="{{ recipe.prepTime }}" id="text"><br><br>
        Cook Time (minutes)<br><input type=text name="cook" value="{{ recipe.cookTime }}" id="text"><br><br>
        Servings<br><input type=text name="serves" value="{{ recipe.servings }}" id="text"><br><br>
        Directions (HTML)<br><textarea name="directions" ROWS=15 COLS=35>{{ recipe.directions }}</textarea><br><br>
        <input type=submit value="Update Recipe Details" id="submit"/>
    </form>

    <form action="{% url 'menu:updateingredient' recipe.id %}" method="post">
    {% csrf_token %}
        {% for i in recipe.ingredient_set.all %}
            <fieldset name = "{{i.id}},ingredients">
                <legend><a href = "{% url 'menu:deleteingredient' i.id %}" method="post">Delete</a></legend>
                <input type=text name="{{i.id}},name" value="{{ i.name }}">
                <input type=text name="{{i.id}},amount" value="{{ i.amount }}">
                <input type=text name="{{i.id}},unit" value="{{ i.unit }}">
            </fieldset>
        {% endfor %}
        <input type=submit value="Update Ingredients" id="submit"/>
    </form>
</div>
